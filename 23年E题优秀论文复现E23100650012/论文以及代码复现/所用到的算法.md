# 出血性脑卒中临床智能诊疗建模 - 所用算法总结

## 问题一：血肿扩张风险因素探索

### 1. 数据预处理算法

#### 1.1 拉依达准则 (3σ准则)
- **用途**: 异常值检测和剔除
- **任务类型**: 数据预处理
- **具体应用**: 检测"original_shape_VoxelVolumee"和"original_shape_Sphericity"变量的异常值

#### 1.2 独热编码 (One-Hot Encoding)
- **用途**: 分类变量转换为数值变量
- **任务类型**: 数据预处理
- **具体应用**: 处理性别等字符串变量

#### 1.3 Min-Max标准化
- **用途**: 数据标准化处理
- **任务类型**: 数据预处理
- **具体应用**: 将不同量级的变量缩放到[0,1]区间

### 2. 特征选择算法

#### 2.1 方差分析
- **用途**: 非显著性特征剔除
- **任务类型**: 特征选择
- **具体应用**: 根据标准差阈值0.05过滤变化幅度过小的变量

#### 2.2 相关性分析算法
- **2.2.1 皮尔逊相关系数**
  - **用途**: 线性相关性度量
  - **任务类型**: 特征选择
  - **具体应用**: 分析连续变量间的线性关系

- **2.2.2 斯皮尔曼相关系数**
  - **用途**: 秩相关性度量
  - **任务类型**: 特征选择
  - **具体应用**: 处理非正态分布变量的相关性分析

- **2.2.3 肯德尔相关系数**
  - **用途**: 有序变量间的单调关系强弱度量
  - **任务类型**: 特征选择
  - **具体应用**: 有序变量的相关性分析

#### 2.3 并查集算法
- **用途**: 高相关性变量过滤
- **任务类型**: 特征选择
- **具体应用**: 基于相关性系数矩阵消除冗余特征，从69个变量减少到47个

### 3. 分类预测算法

#### 3.1 K近邻算法 (KNN)
- **用途**: 血肿扩张概率预测
- **任务类型**: 分类
- **具体应用**: 通过距离度量进行分类，输出置信度作为概率预测

#### 3.2 支持向量机分类器 (SVM)
- **用途**: 血肿扩张概率预测
- **任务类型**: 分类
- **具体应用**: 使用决策函数值表示分类置信度

#### 3.3 随机森林分类器
- **用途**: 血肿扩张概率预测
- **任务类型**: 分类
- **具体应用**: 多数投票结果比例作为置信度

#### 3.4 梯度提升决策树 (GBDT)
- **用途**: 血肿扩张概率预测
- **任务类型**: 分类
- **具体应用**: 最优模型，MAE达到0.0524

## 问题二：水肿的进展预测模型

### 1. 相关性分析算法

#### 1.1 皮尔逊相关性分析
- **用途**: 水肿体积与时间的线性相关性分析
- **任务类型**: 数据分析
- **具体应用**: 发现相关系数为-0.07，不存在明显线性相关

#### 1.2 灰色关联度分析
- **用途**: 非线性关系探测
- **任务类型**: 数据分析
- **具体应用**: 分析水肿体积与时间的关联度

#### 1.3 互信息检验
- **用途**: 变量间依赖关系度量
- **任务类型**: 数据分析
- **具体应用**: 检验水肿体积与时间的信息相关性

### 2. 回归拟合算法

#### 2.1 线性回归
- **用途**: 水肿体积随时间变化的拟合
- **任务类型**: 回归
- **具体应用**: 作为基线模型，效果较差

#### 2.2 随机森林回归
- **用途**: 水肿体积随时间变化的拟合
- **任务类型**: 回归
- **具体应用**: 非线性拟合，MAE为9082.4880

#### 2.3 梯度提升回归
- **用途**: 水肿体积随时间变化的拟合
- **任务类型**: 回归
- **具体应用**: 非线性拟合，MAE为13465.3358

#### 2.4 决策树回归
- **用途**: 水肿体积随时间变化的拟合
- **任务类型**: 回归
- **具体应用**: 最优拟合模型，MAE为1838.8871，R²为0.9615

### 3. 聚类算法

#### 3.1 肘部法则
- **用途**: 确定最优聚类数目
- **任务类型**: 聚类分析
- **具体应用**: 确定患者分为3个亚组

#### 3.2 高斯混合聚类 (GMM)
- **用途**: 患者个体差异聚类
- **任务类型**: 聚类
- **具体应用**: 基于概率模型的聚类方法

#### 3.3 DBSCAN聚类
- **用途**: 患者个体差异聚类
- **任务类型**: 聚类
- **具体应用**: 基于密度的聚类方法

#### 3.4 BIRCH聚类
- **用途**: 患者个体差异聚类
- **任务类型**: 聚类
- **具体应用**: 层次聚类方法

#### 3.5 谱聚类
- **用途**: 患者个体差异聚类
- **任务类型**: 聚类
- **具体应用**: 最优聚类方法，平均轮廓系数0.4186

#### 3.6 t-SNE降维可视化
- **用途**: 聚类结果可视化
- **任务类型**: 降维可视化
- **具体应用**: 将高维聚类结果在二维空间展示

## 问题三：出血性脑卒中患者预后预测模型

### 1. 数据平衡算法

#### 1.1 Borderline-SMOTE过采样算法
- **用途**: 解决类别不平衡问题
- **任务类型**: 数据预处理
- **具体应用**: 处理90天mRS评分的类别不平衡

### 2. 模型评估算法

#### 2.1 K折交叉验证
- **用途**: 模型性能评估
- **任务类型**: 模型验证
- **具体应用**: 采用5折交叉验证确保模型可靠性

### 3. 集成学习算法

#### 3.1 Stacking集成算法
- **用途**: mRS评分预测
- **任务类型**: 分类
- **具体应用**: 最优预测模型，准确率83.5%，召回率82.1%（问题a）；加入随访数据后达到92.3%和89.4%（问题b）

### 4. 降维分析算法

#### 4.1 主成分分析 (PCA)
- **用途**: 血肿扩张影响因素探究
- **任务类型**: 降维分析
- **具体应用**: 提取7个主成分，累计贡献度达到93%，识别关键影响因素

## 算法应用统计

### 按任务类型分类：
- **分类任务**: 8个算法（KNN、SVM、随机森林分类器、GBDT分类器、Stacking集成等）
- **回归任务**: 4个算法（线性回归、随机森林回归、梯度提升回归、决策树回归）
- **聚类任务**: 5个算法（高斯混合、DBSCAN、BIRCH、谱聚类、肘部法则）
- **数据预处理**: 6个算法（拉依达准则、独热编码、标准化、SMOTE等）
- **特征选择**: 4个算法（方差分析、相关性分析、并查集）
- **模型评估**: 2个算法（K折交叉验证、PCA）

### 关键算法性能：
1. **梯度提升决策树**: 问题一最优分类模型（MAE=0.0524）
2. **决策树回归**: 问题二最优拟合模型（MAE=1838.8871）
3. **谱聚类**: 问题二最优聚类方法（轮廓系数=0.4186）
4. **Stacking集成**: 问题三最优预测模型（准确率=92.3%）

## 特色算法创新点

### 1. 特征权重函数
- **用途**: 处理"发病到首次影像检查时间间隔"差异性
- **公式**: f(x) = 1/(1+(x/24)*k)
- **创新点**: 根据医学原理设计的权重函数，时间越短权重越高

### 2. 基于并查集的高相关性变量过滤模型
- **用途**: 冗余特征过滤
- **创新点**: 将图论中的并查集算法应用于特征选择

### 3. 随访数据量化方法
- **用途**: 解决不同患者随访次数差异问题
- **创新点**: 提出5个量化指标进行时空解耦
  - 发病持续时间
  - 血肿最大体积
  - 水肿最大体积
  - 血肿扩张持续时间
  - 水肿扩张持续时间 